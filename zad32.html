<<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      body{
        background-color: LightSeaGreen;
      }
      .block{
          height : 40px;
          width : 50px;
          background-color : black;
      }
      .gamearena   {
          height : 80%;
          width : 100%;
          background-color : Lavender;
          position:relative;
        }
        ul{
          position:absolute;
          bottom:0;
        }

    </style>
  </head>
  <body>
      <div   id= "arena" class= "gamearena"  ondrop="drop(event)" ondragover="allowDrop(event)">

      </div>
      <div id = "buttonSpace">
        <button type="button" name="button" onclick="generate()">new element</button>
        </div>
        <div id = "generation">
          </div>


          <script>
              const colors = ["red","yellow","blue","lightblue","orange","green","lightgreen","magenta"];
              var list = document.getElementById('list');

            function generate(){
              var div = document.createElement("div");
              var id =document.getElementById("arena").getElementsByTagName("div").length;
              div.setAttribute("id", id+1);
              div.setAttribute("class","block");
              div.setAttribute("draggable","true");
              div.setAttribute("ondragstart","drag(event)");

              const rand = Math.floor(Math.random() * colors.length);
              div.style.background = colors[rand];
              document.getElementById("generation").appendChild(div);
            }





              var input = document.getElementById('form');
              input.onsubmit = function(event) {
              event.preventDefault();
              var newValue = document.getElementById('new').value;
              var id =document.getElementById("list").getElementsByTagName("li").length;
              var newList = document.createElement('li');
              newList.setAttribute("draggable", "true");
              newList.setAttribute("id", id+1);
              newList.setAttribute("ondragstart","drag(event)");
              newList.appendChild(document.createTextNode(newValue));
              list.appendChild(newList);
            }
            function allowDrop(event) {
               event.preventDefault();
               event.dataTransfer.dropEffect = 'move';
             }

             function drag(evevent) {
               event.dataTransfer.setData("text", event.target.id);

             }

             function drop(event) {
               event.preventDefault();
               var data = event.dataTransfer.getData("text");
               console.log(data);
               console.log( event.target.id);
               if (event.target.id=="arena"){
                   event.target.appendChild(document.getElementById(data));
               }
               else{
                 list.insertBefore(document.getElementById(data), document.getElementById(event.target.id));
               }
             }

          </script>
  </body>
</html>
